<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>JD Communication Services ‚Äî Request</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="header">
    <div class="container header-inner">
      <div class="brand">
        <img src="assets/jd-logo.svg" alt="JD logo" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%2256%22 height=%2256%22><rect width=%2256%22 height=%2256%22 rx=%2212%22 fill=%22%230f172a%22/><text x=%2250%25%22 y=%2258%25%22 font-size=%2226%22 font-family=%22Arial%22 fill=%22%23fff%22 text-anchor=%22middle%22>JD</text></svg>'">
        <div><h1 class="title">JD Communication Services</h1></div>
      </div>
      <nav class="nav">
        <a href="index.html">Home</a><a href="services.html">Services</a><a href="request.html">Request</a>
      </nav>
    </div>
  </header>

  <div class="container section">
    <h2 class="h2">Request a Service</h2>
    <p class="card fade-in">Fill your details and send your documents for selected services through the below whatsapp service .</p>
    <!-- ‚úÖ Request Form -->
<form id="serviceForm" class="form">
  <div class="form-row">
    <label>Full Name</label>
    <input class="input" name="from_name" placeholder="Enter your full name" required>
  </div>

  <div class="form-row">
    <label>Phone Number</label>
    <input class="input" name="phone" type="tel" placeholder="Enter your mobile number" required>
  </div>

  <div class="form-row">
    <label>Service Type</label>
    <select class="input" name="service" id="serviceSelect" required>
      <option value="">-- Select a Service --</option>
      <option>Community Certificate</option>
      <option>Income Certificate</option>
      <option>Nativity Certificate</option>
      <option>PSTM Certificate</option>
      <option>OBC Certificate</option>
      <option>Voter ID</option>
      <option>PAN Card</option>
    </select>
  </div>

  <div style="margin-top:12px;display:flex;align-items:center;gap:10px">
    <button class="btn" id="submitBtn" type="submit">Submit</button>
    <span id="form-status" class="status"></span>
  </div>
</form>

<!-- ‚úÖ Success Message -->
<div id="successMessage" class="card fade-in"
     style="display:none;color:#065f46;background:#ecfdf5;border:1px solid #a7f3d0;margin-top:14px">
  ‚úÖ Thanks for contacting <b>JD Communication Services</b>! Our service team will contact you soon.
</div>

<!-- üí¨ Chat on WhatsApp Section -->
<div class="card fade-in" style="margin-top:20px;text-align:center;padding:16px;">
  <h3 style="margin-bottom:8px;color:#0f172a;">üí¨ Need Instant Help?</h3>
  <p style="color:#64748b;margin-bottom:14px;">Chat with our support team on WhatsApp for quick guidance.</p>
  <a href="https://wa.me/917094685400?text=Hello%20JD%20Communication%20Services!%20I%20need%20help%20with%20a%20certificate%20request."
     target="_blank"
     class="btn alt"
     style="background:linear-gradient(90deg,#25D366,#128C7E);border:none;font-weight:700;">
    üí¨ Chat on WhatsApp
  </a>
</div>

<!-- üí¨ Floating WhatsApp Chat Button -->
<a class="whatsapp-float"
   href="https://wa.me/917094685400?text=Hello%20JD%20Communication%20Services!"
   target="_blank" aria-label="Chat on WhatsApp"
   style="position:fixed;right:18px;bottom:18px;z-index:50;width:60px;height:60px;border-radius:50%;
          background:#25D366;display:flex;align-items:center;justify-content:center;
          box-shadow:0 10px 22px rgba(0,0,0,.25);transition:transform .2s ease;">
  <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg"
       alt="WhatsApp" style="width:32px;height:32px;filter:drop-shadow(0 2px 2px rgba(0,0,0,.15));">
</a>

<!-- ‚úÖ EmailJS Script -->
<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
<script>
  // Initialize EmailJS
  emailjs.init("Wlh7hrOINO2-a7k_K"); // ‚úÖ Your correct public key

  const SERVICE_ID = "service_7fwtzfa";
  const TEMPLATE_ID = "template_bne8zmp"; // ‚úÖ Updated Template ID

  const form = document.getElementById("serviceForm");
  const statusEl = document.getElementById("form-status");
  const successEl = document.getElementById("successMessage");
  const submitBtn = document.getElementById("submitBtn");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    statusEl.textContent = "Sending...";
    submitBtn.disabled = true;

    try {
      // Send form data to EmailJS
      await emailjs.sendForm(SERVICE_ID, TEMPLATE_ID, form);
      statusEl.textContent = "";
      successEl.style.display = "block";
      form.reset();
      setTimeout(() => (successEl.style.display = "none"), 8000);
    } catch (error) {
      console.error("EmailJS Error:", error);
      alert("Error sending request. Please try again.");
      statusEl.textContent = "‚ùå Sending failed.";
    } finally {
      submitBtn.disabled = false;
      submitBtn.textContent = "Submit";
    }
  });
</script>
</body>
</html>
